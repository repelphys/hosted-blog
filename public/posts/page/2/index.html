

<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>Posts - </title>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "The CollabChain Digest",
    
    "url": "\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "\/"
  
  
  
  
}
</script>

<meta property="og:title" content="Posts" />
<meta property="og:url" content="/posts/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="The CollabChain Digest" />

  <meta name="twitter:title" content="Posts" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="generator" content="Hugo 0.142.0">
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="The CollabChain Digest"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css" integrity="sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="/css/syntax.css" /><link rel="stylesheet" href="/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">

  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">The CollabChain Digest</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Home" href="/">Home</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/about/">About</a>
            </li>
          
        
          
            <li>
              <a title="Posts" href="/posts/">Posts</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>Posts</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  
  </header>


    
  <div class="container" role="main">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        
        <div class="posts-list">
          
            <article class="post-preview">
    <a href="/posts/deploymentadvanced/">
        <h2 class="post-title">Advanced Deployment</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 2, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p><code>Lock.js</code> utilises <strong>Hardhat Ignition</strong> to deploy a <code>Lock</code> contract. This is much more flexible than <code>deploy.js</code></p>
<pre tabindex="0"><code>const { buildModule } = require(&#34;@nomicfoundation/hardhat-ignition/modules&#34;);

const JAN_1ST_2030 = 1893456000;
const ONE_GWEI = 1_000_000_000n;

module.exports = buildModule(&#34;LockModule&#34;, (m) =&gt; {
  const unlockTime = m.getParameter(&#34;unlockTime&#34;, JAN_1ST_2030);
  const lockedAmount = m.getParameter(&#34;lockedAmount&#34;, ONE_GWEI);

  const lock = m.contract(&#34;Lock&#34;, [unlockTime], {
    value: lockedAmount,
  });

  return { lock };
});
</code></pre><ol>
<li><strong>Hardhat Ignition</strong>: <code>buildModule</code> is imported from Hardhat Ignition. This allows us to define a deployment module.</li>
<li><strong>Define constants</strong>: Two constants are defined:
<ul>
<li><code>JAN_1ST_2030</code>: A Unix timestamp for January 1st, 2030.</li>
<li><code>ONE_GWEI</code>: This represents a single Gwei (a small unit of Ether).</li>
</ul>
</li>
<li><strong>Build module</strong>: <code>buildModule</code> defines a deployment module called <code>LockModule</code> - inside of which contains:
<ul>
<li>parameter retrieval (<code>unlockTime</code> and <code>lockedAmount</code>) with default values.</li>
<li><code>Lock</code> contract is deployed, which will send <code>unlockTime</code> as a constructor argument and forwards <code>lockedAmount</code> of Ether with the deployment.</li>
</ul>
</li>
<li><strong>Return the Contract</strong>: Lastly, the deployed <code>Lock</code> contract instance is returned.</li>
</ol>

        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/deploymenttechstack/">
        <h2 class="post-title">Deployment Tech Stack</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 1, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p>The process of deploying smart contracts can be rather frustrating, especially with having to manage complex deployment workflows or deal with multiple environments.
With the help of Hardhat, this can all be made easier by providing a solid framework of testing, compiling and deploying contracts.</p>
<p>We implemented various tools to make the deployment work as intended. Such included:</p>
<ul>
<li><a href="https://hardhat.org/">Hardhat</a> - dev environment for Ethereum that helps with testing smart contracts</li>
<li><a href="https://docs.ethers.org/v5/">Ethers.js</a> -  library for interacting with the Ethereum blockchain</li>
<li>Hardhat Ignition - module-based deployment system for Hardhat, used for complex deployment scenarios.</li>
</ul>
<h3 id="design-decisions">Design Decisions</h3>
<ul>
<li>Hardhat Ignition allows for deployments to be defined as modules, which made it easier to reuse deployments.</li>
<li>Value Handling: The <code>value</code> option allows us to send Ether with the deployment - very beneficial for contracts that required an upfront initial balance.</li>
</ul>

        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/deploymentbasic/">
        <h2 class="post-title">Basic Deployment</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 1, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p><code>deploy.js</code> contains a simple script that deploys our <code>FileVersioning</code> contract. It&rsquo;s best used for quick deployments.</p>
<pre tabindex="0"><code>const hre = require(&#39;hardhat&#39;);

async function main() {
  // Get the contract factory
  const FileVersioning = await hre.ethers.getContractFactory(&#39;FileVersioning&#39;);
  console.log(&#39;Deploying FileVersioning...&#39;);

  // Deploy the contract
  const fileVersioning = await FileVersioning.deploy();
  console.log(&#39;Contract deployed to:&#39;, await fileVersioning.getAddress());

  // Wait for 5 block confirmations
  await fileVersioning.waitForDeployment();
  console.log(&#39;Contract deployment confirmed&#39;);
}

// Execute the deployment
main()
  .then(() =&gt; process.exit(0))
  .catch((error) =&gt; {
    console.error(error);
    process.exit(1);
  });
</code></pre><h4 id="whats-going-on">What’s going on?</h4>
<ol>
<li><strong>Importing Hardhat</strong>: First, we import the Hardhat runtime environment (<code>hre</code>). This provides access to Ethereum and Hardhat-specific functionality.</li>
<li><strong>Get the contract factory</strong>: <code>hre.ethers.getContractFactory</code> is used to get an instance of the <code>FileVersioning</code> contract. To put it simply, it&rsquo;s basically a blueprint for deploying the contract.</li>
<li><strong>Contract deployment</strong>: <code>deploy()</code> is called on the contract factory to deploy the contract to the blockchain. A contract instance is then returned.</li>
<li><strong>Wait</strong>: We must then wait for this deployment to be confirmed by the blockchain (about 5 block confirmations).</li>
<li><strong>Log the Address</strong>: Finally, we can then log the address of the deployed contract.</li>
</ol>
<p>A <code>try-catch</code> block is used to ensure that any errors during deployment are caught and logged.</p>
        <a href="/posts/deploymentbasic/" class="post-read-more">[Read More]</a>
        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/username_datasync/">
        <h2 class="post-title">Usernames - Data Synchronisation (AuthService)</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 14, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <h3 id="1-username-input-validation">1. Username Input Validation</h3>
<p>On the client side:</p>
<pre tabindex="0"><code>function isUsernameValid(username) {
  return /^[a-zA-Z0-9]+$/.test(username);
} 
</code></pre><ul>
<li>A regular expression is used to verify that a username only contains alphanumeric characters.</li>
<li>If the username is valid, return <code>true</code>, else return <code>false</code></li>
</ul>
<p>&hellip;It&rsquo;s really funny how straightforward using a regular expression is to implement alphanumeric validation.</p>
<h3 id="2-duplicate-username-prevention">2. Duplicate Username Prevention</h3>
<p>We needed to ensure usernames were unique. Seriously, imagine if two users in the same group shared the same username - what a headache.</p>
        <a href="/posts/username_datasync/" class="post-read-more">[Read More]</a>
        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/userregflow/">
        <h2 class="post-title">User Registration Flow (AuthService)</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 13, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <ul>
<li>When a user is done registrating, a client will send their email and password to the <code>/auth/register</code> folder on Firebase.</li>
<li>Firebase will then use this information to create an authentication record.</li>
</ul>
<pre tabindex="0"><code>app.post(&#39;/auth/register&#39;, async (req, res) =&gt; {
  const { email, pass } = req.body;
  
  try {
    // Create auth record
    const userRecord = await auth.createUser({
      email,
      password: pass,
    });

    // Initialize Firestore document
    await db.collection(&#39;Users&#39;).doc(userRecord.uid).set({
      displayName: &#39;&#39;,
      email: userRecord.email,
      photoURL: &#39;&#39;,
      myProjects: [],
      invitedProjects: [],
      invitations: [],
      createdAt: admin.firestore.FieldValue.serverTimestamp(),
    });

    res.status(200).json({
      Status: &#39;User Created&#39;,
      User: userRecord
    });
  } catch (error) {
    console.error(&#39;Error creating user:&#39;, error.message);
    res.status(200).json({ Status: &#39;Error&#39;, message: error.message });
  }
});
</code></pre><ul>
<li>Firestore then initialises user document data structure.</li>
</ul>
<pre tabindex="0"><code>{
  displayName: &#39;&#39;,
  email: userRecord.email,
  photoURL: &#39;&#39;,
  myProjects: [],      // Projects they own
  invitedProjects: [], // Projects they&#39;re part of
  invitations: [],     // Pending invites
  createdAt: timestamp
}
</code></pre>
        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/statemanagement/">
        <h2 class="post-title">State Management Strategy (Registration)</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 10, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Jem C.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p>We decided on implementing a global user context using React&rsquo;s Context API. This both allowed for <strong>authentication state persistence</strong> and <strong>data consistency</strong> - in that we standardized the user object structure throughout the application, making it easier to work with this user data in different components.</p>
<pre tabindex="0"><code>useEffect(() =&gt; {
  const unsubscribe = onAuthStateChanged(auth, (firebaseUser) =&gt; {
    if (firebaseUser) {
      const userData = {
        uid: firebaseUser.uid,
        email: firebaseUser.email,
        displayName: firebaseUser.displayName,
        photoURL: firebaseUser.photoURL,
      };
      setUser(userData);
    } else {
      setUser(null);
    }
    setLoading(false);
  });

  return () =&gt; unsubscribe();
}, []);
</code></pre>
        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/serverinit/">
        <h2 class="post-title">Server Initialisation (AuthService)</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 5, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <h3 id="server-initialisation">Server Initialisation</h3>
<p>The foundation is set by establishing two main systems:
- Firebase Admin SDK
- Express.js</p>
<pre tabindex="0"><code>const serviceAccount = JSON.parse(
  fs.readFileSync(&#39;./config/firebase-adminsdk.json&#39;, &#39;utf8&#39;)
);

admin.initializeApp({
  credential: admin.credential.cert(serviceAccount),
});

const auth = admin.auth();
const db = admin.firestore();

const app = express();
app.use(express.json());
app.use(cors());
</code></pre>
        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/registrationform/">
        <h2 class="post-title">Register and Login Form (Registration)</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on January 3, 2025
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <p>Register.jsx handles the user registration and login forms, manages the user state, as well as communicating with Firebase for authentication.
UserContext.jsx provides context to manage and save user state.</p>
<h3 id="authentication-form-component">Authentication form component</h3>
<p>One of the first of our design decisions was to combine both registration and login into one single component that can be toggled between the two.</p>
<pre tabindex="0"><code>&lt;div className=&#39;auth-toggle&#39;&gt;
  &lt;button className={!isLogin ? &#39;active&#39; : &#39;&#39;} onClick={() =&gt; setIsLogin(false)}&gt;
    Register
  &lt;/button&gt;
  &lt;button className={isLogin ? &#39;active&#39; : &#39;&#39;} onClick={() =&gt; setIsLogin(true)}&gt;
    Login
  &lt;/button&gt;
&lt;/div&gt;
</code></pre><p>This both reduced code duplication and provides a smoother UX, by not requiring navigation between separate pages for login and registration.</p>
        <a href="/posts/registrationform/" class="post-read-more">[Read More]</a>
        
    </div>

    

</article>
          
            <article class="post-preview">
    <a href="/posts/registration/">
        <h2 class="post-title">Error Handling (Registration)</h2>
        
        
        
    </a>

    <p class="post-meta">
        <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on December 23, 2024
  
  
  
  
    
      
        &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Abhinav K.
      
    
  
  
</span>


    </p>
    <div class="post-entry">
        
        <h2 id="error-handling--feedback-for-users">Error Handling + Feedback for Users</h2>
<p>As is the standard for login/registration systems, we implemented error handling into this component.
The <code>react-toastify</code> library was used to share error messages with the user. Our system maps Firebase&rsquo;s error codes to more user-friendly messages.</p>
<pre tabindex="0"><code>switch (error.code) {
  case &#39;auth/user-not-found&#39;:
    notify(&#39;No account found with this email&#39;);
    break;
  case &#39;auth/wrong-password&#39;:
    notify(&#39;Incorrect password&#39;);
    break;
  // ... more cases
}
</code></pre><h3 id="what-to-take-from-this-all">What to take from this all?</h3>
<ul>
<li>We learned the significance of handling the initial loading state in UserContext.jsx. Without such, there would be a brief flash of the unauthenticated state, even for logged-in, authenticated users.</li>
</ul>
<pre tabindex="0"><code>return (
  &lt;UserContext.Provider value={{ user, setUser, loading }}&gt;
    {!loading &amp;&amp; children}
  &lt;/UserContext.Provider&gt;
);
</code></pre><ul>
<li>We also found that centralized error handling greatly improved the user experience of our product.</li>
</ul>

        
    </div>

    

</article>
          
        </div>
        
          <ul class="pager main-pager">
            
              <li class="previous">
                <a href="/posts/page/1/">&larr; Newer Posts</a>
              </li>
            
            
          </ul>
        
      </div>
    </div>
  </div>

      <footer>
  <div class="container">
    
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2025
          

          
            &nbsp;&bull;&nbsp;
            <a href="/">The CollabChain Digest</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.142.0</a> powered &nbsp;&bull;&nbsp; Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapted from <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js" integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>

<script src="/js/main.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="/js/load-photoswipe.js"></script>










    
  </body>
</html>

